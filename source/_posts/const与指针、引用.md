---
title: const与指针、引用
date: 2017-05-04 16:23:55
tags:
- c++
catalogies:
- 学习笔记
---

# 前言

理一下指针、引用与const之间的化学反应。

# 底层const与顶层const

## 概念

- 底层const：指针所指对象的值是一个常量，不仅仅是指针，引用等复合类型也包括
- 顶层const：指针本身是一个常量，不仅仅是指针，可以表示任意对象

一个比较简单的区分两者的方法：看const的位置

- 如果仅在`*`前面或此对象是引用，那么就是底层const
- 如果仅在`*`后面或没有`*`且非引用，那么就是顶层const
- 如果`*`两边都有，那么既是底层const又是顶层const

底层，底到对象的值。

## cosnt引用

又称常量引用，即用这个引用不能去修改引用的对象。

**常量引用可以被非常量引用初始化，但是反之则不可以**

## 使用

1. 函数中，实参初始化形参时，顶层const会被忽略，以下两个函数被看做是同一个函数，无法通过编译

```c++
void fcn(const int){}
void fcn(int){}
```

2. 函数形参尽量使用常量引用，因为非常量实参能够初始化常量引用形参，反之则不可以